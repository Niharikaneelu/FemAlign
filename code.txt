#include <emscripten.h>
#include <math.h>

// JavaScript interop to clear and draw background
EM_JS(void, clear_canvas, (), {
  var ctx = Module.canvas.getContext('2d');
  ctx.clearRect(0, 0, Module.canvas.width, Module.canvas.height);
});

EM_JS(void, draw_background, (float r, float g, float b), {
  var ctx = Module.canvas.getContext('2d');
  ctx.fillStyle = `rgb(${r}, ${g}, ${b})`;
  ctx.fillRect(0, 0, Module.canvas.width, Module.canvas.height);
});

float time = 0.0;

void render_frame() {
  clear_canvas();

  // Warm tones using sine waves
  float r = 200 + 55 * sin(time);
  float g = 100 + 80 * sin(time + 1.5f);
  float b = 80 + 60 * sin(time + 3.0f);

  draw_background(r, g, b);

  time += 0.01f;
}

int main() {
  emscripten_set_main_loop(render_frame, 0, 1);
  return 0;
}

..................

<canvas id="canvas" width="1920" height="1080" style="position:fixed; top:0; left:0; z-index:-1;"></canvas>
<script src="femalign_bg.js"></script>
<script>
  var Module = {
    canvas: document.getElementById('canvas')
  };
  createModule(Module);
</script>
